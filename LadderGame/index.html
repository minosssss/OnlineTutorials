<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>

<head>
  <title>사다리 게임</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script>
    let Ladder = {
      getEl: function (strId) {
        if (document.getElementById) return document.getElementById(strId);
        if (document.all) return document.all[strId];
      },
      //div 리턴
      getDiv: function (sWidth, sHeight, sBgColor) {
        var d = document.createElement("div");
        if (sWidth) d.style.width = sWidth;
        if (sHeight) d.style.height = sHeight;
        if (sBgColor) d.style.backgroundColor = sBgColor;
        d.style.position = "absolute";
        d.style.overflow = "hidden";
        return d;
      },
      arrColor: [
        '#8c7301', '#9b014f', '#0084a0', '#ad8e00', '#bb005f'
        , '#00a0c2', '#8d3901', '#8f0197', '#156200', '#9ca53b'
        , '#c9a601', '#d6006d', '#01b6de', '#80adaf', '#a44201'
        , '#e0b800', '#ec0078', '#0021b0', '#92b7d7', '#013add'
      ],
      arrVerDiv: [], //수직 선 div
      arrHorDiv: [], //수평 선 div
      arrMovDiv: [], //이동 선 div
      arrIng: [], //진행여부 체크용
      arrMDiv: [], //이동선 배열 번호값 저장, 이동후 확인용
      nMaxWidth: 1000, //최고 넓이
      nWidth: 0, //사다리 넓이
      nHeight: 300, //사다리 높이
      nNum: 0,

      arrTopDiv: [], //탑 div
       arrBotDiv: [], //아래 div
      arrGoDiv: [], //go 버튼 div

      
      init: function () {
        //갯수
        this.nNum = parseInt(this.getEl("sel_num").value);

        //넓이
        this.nWidth = parseInt(this.nMaxWidth / this.nNum);

        for (var i = 0; i < this.nNum; i++) {

          this.arrTopDiv[i] = this.getDiv(this.nWidth + "px", "50px", "");
          this.arrBotDiv[i] = this.getDiv(this.nWidth + "px", "50px", "");
          this.arrGoDiv[i] = this.getDiv(this.nWidth + "px", "30px", "");

          this.arrTopDiv[i].style.left = (i * this.nWidth) + "px";
          this.arrTopDiv[i].style.top = "20px";

          this.arrBotDiv[i].style.left = (i * this.nWidth) + "px";
          this.arrBotDiv[i].style.top = "410px";

          this.arrGoDiv[i].style.left = (i * this.nWidth) + "px";
          this.arrGoDiv[i].style.top = "70px";

          this.arrTopDiv[i].style.fontSize = "12px";
          this.arrBotDiv[i].style.fontSize = "12px";

          //this.arrTopDiv[i].style.border = "1px solid #CCCCCC";
          //this.arrBotDiv[i].style.border = "1px solid #CCCCCC";

          this.arrTopDiv[i].align = "center";
          this.arrBotDiv[i].align = "center";
          this.arrGoDiv[i].align = "center";

          this.arrTopDiv[i].innerHTML = (i + 1) + '<br><input type="text" id="inp_top_' + i + '" value="" style="width:90%" tabindex="' + (i + 1) + '" />';
          this.arrBotDiv[i].innerHTML = '<input type="text" id="inp_bot_' + i + '" value="" style="width:90%" tabindex="' + ((i + 1) + 50) + '" />';

          this.getEl("div_body").appendChild(this.arrTopDiv[i]);
          this.getEl("div_body").appendChild(this.arrBotDiv[i]);
          this.getEl("div_body").appendChild(this.arrGoDiv[i]);


          this.arrVerDiv[i] = this.getDiv("1px", this.nHeight + "px", "#bbbbbb");

          this.arrVerDiv[i].style.left = ((i * this.nWidth) + parseInt(this.nWidth / 2)) + "px";
          this.arrVerDiv[i].style.top = "100px";

          this.getEl("div_body").appendChild(this.arrVerDiv[i]);

        }

        this.getEl("div_step1").style.display = "none";
        this.getEl("div_step2").style.display = "";

      },
    };
    

    //F5 새로고침 막기
    document.onkeydown = function (e) {
      if (!e) e = window.event;
      if (e.keyCode == 116) {
        if (confirm("새로 고침 하시겠습니까?")) {
        } else {
          e.keyCode = 0;
          return false;
        }
      }
    }

  </script>

</head>

<body>


  <div id="div_step1" style="font-size:12px;">

    인원 선택
    <select id="sel_num">
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>
    

    <input type="button" value="만들기" onclick="Ladder.init();">

  </div>


  <div id="div_step2" style="font-size:12px;display:none;">
    <input type="button" value="START" onclick="Ladder.create();">
    <a href="/"><input type="button" value="HOME"></a>
  </div>
  <div id="div_body" style="width:1000px;height:450px;border:1px solid #CCCCCC;position:relative;"></div>

</body>

</html>